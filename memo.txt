memo

psql -l
psql -U tabuchikozue langchainrb_rails_sample_development

1. Recepiテーブルの作成

bundle exec rails g model Recipe \
title:string \
description:string

2.作ったテーブルの確認
langchainrb_rails_sample_development=# select * from recipes;

 id | title | description | created_at | updated_at 
----+-------+-------------+------------+------------
(0 行)

3.レコードを入れてみる。
tabuchikozue@tabuchikozuenoMacBook-Air langchainrb_rails_sample % bundle exec rails c               
Loading development environment (Rails 7.1.1)
irb(main):001* Recipe.create(
irb(main):002*   title: "curry",
irb(main):003*   description: "how to make delicious curry",
irb(main):004> )
  TRANSACTION (0.2ms)  BEGIN
  Recipe Create (4.9ms)  INSERT INTO "recipes" ("title", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "curry"], ["description", "how to make delicious curry"], ["created_at", "2023-11-03 09:43:24.249125"], ["updated_at", "2023-11-03 09:43:24.249125"]]
  TRANSACTION (2.0ms)  COMMIT
=> 
#<Recipe:0x0000000105c10a60
 id: 1,
 title: "curry",
 description: "how to make delicious curry",
 created_at: Fri, 03 Nov 2023 09:43:24.249125000 UTC +00:00,
 updated_at: Fri, 03 Nov 2023 09:43:24.249125000 UTC +00:00>

4. rangchainrb_railsを入れる
gem install langchainrb_rails

5.pgvectorのセットアップ
langchainrb_rails_sample_development=# CREATE EXTENSION vector;
CREATE EXTENSION

5.Recipeテーブルにvectorを入れてみる。
bundle exec rails generate langchainrb_rails:pgvector --model=Recipe --llm=openai

/pgvector.rb:21: warning: previous definition of DEFAULT_OPERATOR was here
      create  db/migrate/20231103095040_enable_vector_extension.rb
      create  db/migrate/20231103095041_add_vector_column_to_recipes.rb
      create  config/initializers/langchainrb_rails.rb
      insert  app/models/recipe.rb
     gemfile  neighbor
     gemfile  ruby-openai
Please do the following to start Q&A with your Recipe records:
1. Run `bundle install` to install the new gems.
2. Set `OPENAI_API_KEY` environment variable to your OpenAI API key.
3. Run `rails db:migrate` to apply the database migrations to enable pgvector and add the embedding column.
4. In Rails console, run `Recipe.embed!` to set the embeddings for all records.
5. Ask a question in the Rails console, ie: `Recipe.ask('[YOUR QUESTION]')`

6. miglration
bundle exec rails db:migrate

7.テーブルの確認
langchainrb_rails_sample_development=# \dt
                     リレーション一覧
 スキーマ |         名前         |  タイプ  |    所有者    
----------+----------------------+----------+--------------
 public   | ar_internal_metadata | テーブル | tabuchikozue
 public   | recipes              | テーブル | tabuchikozue
 public   | schema_migrations    | テーブル | tabuchikozue
(3 行)

langchainrb_rails_sample_development=# select * from recipes;
 id | title | description | created_at | updated_at | embedding 
----+-------+-------------+------------+------------+-----------
(0 行)

8.レコードを作る。
irb(main):001* Recipe.create(
irb(main):002*   title: "curry",
irb(main):003*   description: "how to make delicious curry",
irb(main):004> )
  TRANSACTION (0.2ms)  BEGIN
  Recipe Create (5.5ms)  INSERT INTO "recipes" ("title", "description", "created_at", "updated_at", "embedding") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["title", "curry"], ["description", "how to make delicious curry"], ["created_at", "2023-11-03 10:24:54.431741"], ["updated_at", "2023-11-03 10:24:54.431741"], ["embedding", nil]]
  Recipe Load (0.8ms)  SELECT "recipes".* FROM "recipes" WHERE "recipes"."id" = $1 LIMIT $2  [["id", 1], ["LIMIT", 1]]
  Recipe Update (2.4ms)  UPDATE "recipes" SET "embedding" = $1 WHERE "recipes"."id" = $2  [["embedding", "[0.022674987, 0.014185363, -0.014360825, 0.0014095946, -0.0033455726, 0.0034265548, -0.004413524, -0.020798901, -0.01606145, -0.034444384, 0.02645415, 0.0039276313, -0.017384157, 0.0074975924, -0.016817281, 0.015562059, 0.027506918, -0.02966644, 0.00436291, -0.021473752, -0.008260174, 0.005844208, -0.015508071, 0.0023839104, -0.004649722, 0.010487181, 0.007430107, -0.01745164, 0.01112829, -0.013308058, 0.026116725, 0.004508003, -0.0069577117, -0.042380627, -0.010777367, 0.0017293051, -0.018747354, -0.0061850073, 0.016790288, -0.02002957, 0.015535065, -0.008226431, 0.0017478635, -0.013443028, 0.00060905283, 0.0036880595, 0.0038972632, -0.02433512, -0.009636869, 0.03349959, 0.010257732, 0.018531403, -0.022769466, -0.008165695, -0.0008359714, 0.015022178, 0.008631341, 0.039789204, 0.012187805, -0.01058166, 0.021001356, 0.01433383, -0.034876287, -0.0036205745, -0.002832686, -0.015953472, 0.0048724227, -0.009535641, 0.010102516, 0.0015530003, 0.028289745, -0.005253713, 0.00664728, -0.022985417, 0.002510445, -0.0056113843, -0.036279976, 0.0080644665, 0.01881484, -0.016250407, 0.012660201, -0.014954694, -0.0026859061, 0.024955982, -0.0001870602, 0.016182922, -0.020178039, 0.021595225, 0.00682949, -0.01827496, -0.0024125916, 0.007922748, 0.015076166, -0.006390837, -0.022337561, 0.037332743, -0.018693367, 0.03997816, -0.0062929834, -0.050127916, -0.00020372058, 0.0025509358, -0.018652875, -0.02654863, -0.0023046155, -0.006795747, 0.012565722, 0.010068773, 0.027601397, 0.004170578, -0.013004375, 0.014036897, -0.001261971, -0.028235756, -0.023120388, -0.013955914, -0.0048454287, -0.034714323, -0.018207474, -0.014009902, 0.009819079, 0.034552358, 0.020137547, -0.017492132, 0.02496948, 0.0030671968, -7.2546456e-05, -0.01998908, 0.016533844, -0.0037589187, 0.05647151, 0.023592783, 0.014887208, 0.010433193, -0.016304394, 0.025266413, -0.008813552, 0.00909024, -0.00052511826, -0.036468934, 0.0016095191, 0.03228486, -0.0034113708, 0.014873711, -0.010338714, 0.010008037, -0.0028394347, 0.017154707, 0.00066641514, 0.00083723676, 0.009022755, 0.015386598, 0.00709943, 0.00544942, -0.01098657, 0.013497015, 0.005908319, 0.0066742743, 0.020299511, -0.009778588, 0.00868533, 0.0010325217, -0.022418544, -0.030935159, 0.0019250119, 0.020191535, 0.049911965, -0.0018372813, -0.01654734, -0.009987791, -0.014239351, 0.025711814, -0.021568231, 0.01523813, 0.003998491, 0.034768313, 0.020218529, 0.011998847, -0.024888497, -0.0030402027, -0.036306974, -0.003122872, 0.029045578, 0.046618693, 0.010190247, -0.013308058, 0.029180547, -0.021338781, -0.008091461, 0.008239928, 0.0075718258, 0.0320959, -0.018166984, 0.0045215003, -0.6469929, -0.02166271, 0.005061381, -0.009393923, 0.018032013, 0.03503825, 0.0053414437, 0.00755158, 0.0054831626, -0.027749864, -0.02002957, 0.026305683, 0.016209915, -0.0026217953, -0.0016179547, -0.010682887, 0.0189903, -0.040356077, -0.006384088, 0.016344886, -3.45861e-05, 0.015440586, -0.009279198, -0.022094615, 0.0023349838, -0.017870048, -0.015481077, -0.0043224194, -0.005459543, 0.0041267127, -0.019003797, 0.018666372, 0.024024688, 0.0022793084, 0.04319045, 0.0034248678, -0.032230873, 0.024996473, 0.019962085, 0.040680006, -0.008881036, -0.01406389, 0.02189216, -0.0073558735, -0.037494708, -0.0013648857, 0.021568231, -0.00032181948, -0.0017984774, -0.019975582, 0.015049173, 0.0058273366, 0.024834508, -0.009987791, -0.011310499, -0.03206891, 0.025563348, -0.013814195, 0.018207474, 0.01248474, -0.009549138, 0.024011191, -0.019948589, -0.010196995, -0.009603127, 0.015130155, 0.017235689, 0.013328303, -0.022863945, -0.019651655, -0.008543611, 0.030665219, 0.00012980333, 0.007544832, -0.006660777, 0.017816061, 0.038601466, -0.0018440298, 0.0070926817, 0.00635372, -0.0023417321, -0.016817281, -0.00087140105, -0.028019805, 0.012086578, 0.017249186, -0.023430819, 0.0045957337, 0.023498304, -0.00070521905, 0.017600108, -0.022094615, 0.004825183, -0.0025222548, 0.0074975924, 0.0054258, -0.011607434, -0.0074503524, 0.021622218, -0.01954368, -0.02885662, 0.0013100541, 0.029342512, 0.018625882, 0.04092295, -0.006309855, -0.012639955, 0.00057362317, 0.027803851, -0.019678649, -0.019287236, 0.01456328, -0.014536286, -0.030557243, -0.009441162, -0.02116332, -0.008827048, -0.0050951233, 0.036279976, 0.028370727, 0.012693943, -0.00019486317, 0.037332743, 0.0108381035, -0.013577998, 0.02333634, 0.010122762, 0.0065831696, -0.02283695, 0.008894533, 0.024200149, 0.0072546457, 0.0072344, -0.011337494, 0.004106467, -0.009866319, 0.012957135, 0.0015074479, 0.028154774, -0.032500815, 0.017046731, -0.02247253, -0.0008431417, -0.0033438855, -0.011101295, 0.0072883884, -0.02993638, 0.0036779367, -0.015616047, 0.007443604, -0.025198929, -0.010892091, -0.015413592, 0.0020549207, 0.010534421, 0.002164584, -0.0061715106, -0.007477347, 0.006515684, -0.0011582127, -0.006627035, 0.012639955, -0.011911117, -0.014779232, -0.017343665, -0.020974362, 0.0007414923, 0.0124644935, -0.036792863, -0.031717986, -0.003095878, 0.013955914, -0.0065460526, -0.006043289, -0.002392346, 0.015912982, -0.026062736, -0.01623691, 0.008698827, -0.014252848, -0.016439365, 0.02564433, -0.0048420546, 7.143928e-05, 0.0038095326, 0.009481654, -0.006657403, 0.028505696, -0.016736299, 0.0016441052, -0.013011123, 0.0037150534, -0.004774569, 0.015643042, 0.0078350175, 0.007679802, -0.012336272, -0.012356518, -0.0018642753, -0.0023214866, -0.0029204166, -0.0055877646, 0.002937288, 0.009643618, -0.006006172, -0.049372084, 0.0031009393, -0.01745164, 0.026251696, 0.0063064806, 0.023214867, -0.026575623, 0.0007743913, 0.003109375, -0.00095069606, 0.0221621, 0.00045847674, 0.019962085, -0.03309468, -0.024362113, 0.010089019, -0.018531403, -0.000512043, -0.017708084, -0.01867987, 0.029774416, -0.014104381, 0.0230664, -0.003880392, -0.01908478, -0.0108381035, 0.017654097, 0.020070063, 0.0054021804, 0.013213579, -0.003995117, 0.030368285, -0.031690992, 0.0343634, -0.015184143, -0.0050310125, 0.0028748643, 0.00954239, -0.03495727, 0.01831545, -0.0064954385, 0.019881103, 0.027452929, 0.012160811, 0.03147504, -0.009913558, -0.008928276, 0.0036104517, -0.014131376, 0.0028259377, -0.02518543, -0.012565722, 0.015184143, 0.014725244, 0.02247253, 0.0067451335, 0.008995761, 0.023889717, 0.0064279535, 0.002326548, 0.024416102, -0.018018516, -0.023525298, -0.020609943, -0.025887275, -0.0056788693, -0.02618421, -0.007652808, -0.0018541525, -0.009016006, -0.010028282, 0.019003797, 0.0069172205, 0.014860214, 0.033850513, -0.0029474108, -0.012032589, 0.014023399, 0.012025841, 0.010561415, -0.03306769, -0.01881484, 0.0036306973, -0.019300733, 0.02301241, 0.0018271585, 0.022513023, 0.0003859303, -0.011735655, -0.016209915, 0.012612961, 0.028046798, -0.011249762, -0.0055607706, -0.0052132225, -0.00304189, -0.0036172, 0.0073828674, -0.008044221, 0.0156025505, 0.012653452, -0.013503764, -0.03830453, 0.008847293, -0.00058290234, -0.0008106645, -0.0042583086, 0.001416343, -0.021014852, -0.011290253, -0.0013336738, 0.00039352235, -0.0046598446, 0.023349836, -0.0185449, -0.014603771, -0.020609943, -0.01921975, 0.015616047, 0.02220259, 0.015899485, 2.6704056e-05, 0.004906165, 0.006471819, 0.016128933, -0.031906944, -0.01714121, -0.0068767294, -0.0088203, -0.018463917, 0.0051659825, 0.011917865, -0.011587188, 0.0012391948, -0.025873778, -0.0031717988, -0.0134025365, -0.002405843, -0.025873778, 0.0063368487, -0.0145497825, 0.012727685, 0.013004375, 0.014441807, -0.019881103, 0.009414168, 0.013719716, 0.0011658047, -0.026386665, 0.011006816, 0.0038770176, 0.018517906, -0.008091461, -0.016628323, 0.046078812, 0.029882392, 0.01904429, 0.00436291, -0.00025222547, 0.006755256, 0.019246744, 0.020286014, -0.0039377543, 0.005354941, -0.008854042, 0.0045484942, 0.024713036, 0.021149823, -0.0010612028, -0.009144228, 0.01329456, -0.034228433, 0.0056012613, 0.027021024, 0.009933803, -0.01840993, -0.019908099, -0.019179258, -0.010008037, -0.015035675, -0.015966969, 0.007983484, 0.0064380765, -0.007882257, -0.024861503, -0.027803851, 0.0040592276, -0.01352401, 0.023822233, 0.008597599, -0.014009902, -0.006859858, -0.00079126254, 0.014482298, 0.018261462, 0.027142499, 0.0025745558, 0.0042211916, 0.035659116, -0.026791576, -0.021851668, -0.009312941, 0.00031992144, -0.0005516905, 0.002896797, 0.004197572, -0.010345463, -0.007173664, 0.03582108, -0.0004272649, -0.013915423, 0.030422274, 0.018342445, -0.0015875865, -0.0009557574, 0.014873711, 0.0005959776, 0.0022421917, -0.010554667, 0.020434482, -0.015791507, -0.008611096, -0.0013041492, 0.012747931, -0.009191467, 0.0039816196, 3.2345386e-05, -0.009650366, -0.013017871, 0.010676139, -0.006762005, 0.019098276, -0.008516617, 0.007848514, -0.021109333, 0.0056012613, 0.010358959, -0.01442831, -0.007956491, 0.0004981242, -0.012511733, 0.018477414, 0.0034991014, -0.011310499, -0.0016660378, -0.022863945, -0.007996982, -0.010338714, 0.013847938, 0.017735079, -0.003057074, -0.0153731005, -0.016074946, -0.022890938, -0.0077270414, 0.02274247, 0.017208695, 0.01284241, -0.03320266, -0.007976736, -0.02966644, -0.009164474, -0.001203765, -0.012943638, -0.025063958, -0.027614893, -0.02658912, 0.029180547, 0.021919154, -0.0012518482, 0.004798189, -0.027695876, -0.020920373, -0.0028259377, -0.012727685, -0.04005914, 0.0019148891, 0.035200216, 0.005803717, 0.043082472, -0.016587833, 0.0086380895, 0.01275468, 0.020407487, 0.016439365, 0.0014197173, -0.01831545, -0.020906877, 0.0071129273, 0.023187872, 0.0063638426, 0.006620286, 0.0060264175, -0.02654863, 0.010392702, -0.010966325, 0.02283695, -0.010082271, -0.037737656, -0.020286014, 0.000840611, -0.011000068, 0.00422794, -0.017519126, 0.0023029284, 0.010487181, 0.005489911, 0.01650685, 0.0016474795, 0.027830847, -0.004730704, -0.003880392, -0.021244302, 0.004609231, -0.022270076, 0.00013876619, -0.02279646, -0.0055911387, 0.018355941, 0.0025863657, 0.024821011, 0.008152197, 0.010284726, 0.0016272339, 0.025050461, -0.018072505, 0.0029086068, -0.015751017, -0.02541488, -0.005864453, -0.015953472, -0.009211713, -0.0070184483, -0.0025694943, -0.020569451, -1.726669e-05, 0.028100787, -0.013888429, -0.014050393, -0.0043527875, -0.008347904, 0.041597802, 0.008577353, 0.038142566, 0.0049331593, -0.0013513886, -0.007470598, 0.006326726, 0.002815815, -0.007058939, 0.01523813, 0.019422205, -0.00032498283, -0.036387954, 0.0074233585, 0.01877435, -0.016452862, -0.01804551, 0.026143719, -0.006191756, -0.0012062958, -0.014630765, -0.0040457305, -0.002152774, 0.008962018, -0.021946147, 0.025158437, -0.00032203036, -0.0011210958, -0.034093462, 0.011701913, -0.0028343734, 0.029153554, 0.023363333, -0.0013631986, 0.0042819283, -0.017222192, -0.029855398, 0.018571893, 0.018598888, 0.008800054, -0.011094547, 0.02112283, 0.016128933, 0.027722869, 0.00409297, 0.01302462, -0.00078113977, 0.03387751, 0.0007081715, -0.0077337897, -0.007720293, 0.011195774, 0.0059218155, 0.0030604482, -0.011357739, -0.027452929, -0.026899552, 0.0020802275, 0.01935472, 0.014360825, -0.010271229, -0.0035530895, 0.0114117265, -0.013591494, -0.009535641, 0.0017495507, 0.0015799943, -0.009981043, -0.008098209, -0.028316738, -0.012720937, 0.00547304, 0.020407487, -0.0010890404, 0.02175719, 0.023079896, -0.038034588, -0.006009546, -0.022850448, -0.003227474, -0.021082338, -0.0058813244, -0.004342665, -0.00624237, 0.006788999, -0.032149892, -0.049857974, -0.011688416, 0.00441015, 0.005125492, -0.0063975854, 0.007031945, 0.022513023, -0.0076258136, -0.013584746, -0.012545476, -0.021325285, 0.012633206, -0.012322775, -0.0039141346, 0.030341292, -0.012518482, 0.029504476, -0.009110485, 0.023120388, -0.00011124493, -0.024213646, -0.016709305, 0.0005171044, 0.028343733, -0.00990681, -0.006421205, -0.013449776, 0.0021308414, -0.02872165, 0.015980467, -0.0013615114, -0.017519126, 0.024227142, 0.029153554, 0.014009902, 0.01270744, -0.013847938, -0.02139277, -0.033688553, -0.024348617, -0.017505629, -0.018909318, -0.01076387, 0.026035743, 0.026238197, -0.0025425004, -0.028073793, 0.0055911387, -0.046294764, -0.012660201, -0.01962466, 0.022809956, -0.0014543034, -0.0026808446, -0.0041908235, 0.010885343, -0.04005914, 0.004717207, -0.02785784, 0.0036509428, -0.025360892, 0.0027736367, 0.04170578, 0.019692145, -0.025320401, -0.016196419, 0.025536353, 0.00913748, 0.0035227211, 0.010487181, -0.019611163, -0.006900349, 0.0036644398, 0.0014720183, 0.0043257936, -0.005969055, 0.027479924, -0.018463917, -0.017438143, 0.016952252, 0.011472464, 0.009252205, -0.00036167784, 0.0059454353, 0.0034198062, 0.014738741, -0.018612385, -0.015494574, -0.025846785, 0.013463273, 0.033391617, -0.01004178, 0.020825895, 0.013179836, 0.0067147654, -0.008786557, 0.015076166, 0.016169425, -0.006444825, -0.0044945064, -0.0034316161, 0.011270008, -7.787145e-05, -0.019246744, 0.021095835, -0.020110553, -0.016749796, -0.0203535, 0.011209272, -0.010365708, 0.012127069, 0.014050393, -0.020569451, -0.010500678, 0.008030725, -0.019246744, -0.02008356, -0.01089884, -0.02347131, -0.014293339, -0.013105602, -0.01347677, -0.007969988, -0.032581795, 0.014536286, -0.010797612, -0.007922748, -0.002085289, 0.21454856, 0.0041908235, 0.01827496, 0.033121675, 0.0028630544, -0.00031359473, -0.01606145, 0.0057598515, -0.025158437, 0.01953018, -0.024537574, 0.024551071, -0.0045113773, -0.008597599, -0.0031346818, -0.020420985, -0.04364935, -0.020528961, -0.011040559, -0.050883748, 0.01741115, -0.0042178174, 0.004437144, -0.023444315, 0.028640667, 0.0025020093, -0.0032375967, 0.008530114, 0.0114319725, 0.03080019, -0.00696446, -0.017343665, -0.007882257, -0.0013075233, -0.024078676, -0.0048960424, 0.016830778, 0.0035969547, 0.036657896, 0.026872559, -0.0028411217, -0.022094615, 0.038061585, -0.01777557, 0.008354653, 0.0149142025, -0.016020957, 0.005965681, 0.0053785606, 0.012343021, -0.011182277, -0.007889005, 0.04699661, 0.0065021873, 0.014144872, -0.012626458, 0.034633342, -0.0078012752, 0.008381647, 0.018463917, -0.0030098346, 0.038061585, -0.0076730535, 0.016574334, -0.009609875, -0.0019587544, -0.01600746, -0.038817417, 0.038412508, 0.005965681, 0.0007853576, -0.010250984, -0.0059218155, 0.01881484, -0.01867987, -0.019894602, 0.022728974, -0.0028816129, 0.016128933, 0.025050461, 0.0032915848, 0.0064245793, 0.0021426512, -0.017438143, -0.013456524, -0.036792863, 0.022850448, 0.008199437, -0.017694587, -0.0045484942, -0.00499727, 0.0045215003, -0.030044356, 0.004170578, 0.003240971, 0.010925834, -0.010466936, 0.011857128, 0.027695876, 0.015454083, -0.03698182, 0.006792373, 0.029477483, 0.0008815238, -0.0136319855, -0.010075523, 0.000591338, 0.011222769, 0.021595225, 0.0052435906, -0.021730196, -0.008030725, -0.0070926817, 0.00696446, -0.028181769, 0.019003797, -0.018787846, -0.010736876, -0.014225855, 0.0030267057, -0.01606145, -0.019111775, -0.016466359, 0.004119964, -0.014347328, -0.02198664, -0.010541169, 0.0026707218, 0.011823386, -0.06672925, 0.019341223, -0.008921527, -0.013537507, 0.01985411, -0.00047703515, 0.007173664, 0.017087221, -0.016385376, 0.00621875, -0.0124644935, 0.00637734, -0.0066067893, 0.015575556, -0.010358959, 0.0013454837, -0.024686042, -0.008057718, 0.0017832932, -0.0020178037, -0.01604795, -0.0013927233, -0.0140908845, -0.021230806, -0.019638158, 0.021838171, -0.004406776, -0.0028343734, -0.03576709, -0.008199437, -0.027129002, -0.022755967, -0.014536286, 0.015535065, 0.008192688, -0.019935092, -0.014711747, -0.17330168, 0.03047626, 0.040275093, -0.024875, 0.00062508055, 0.007470598, 0.017667593, -0.023862723, -4.818856e-05, 0.004713833, 0.006866607, -0.0014020025, -0.022647992, -0.03970822, -0.0058138394, 0.008813552, 0.0029086068, 0.017276179, 0.041084915, 0.030287303, 0.052611366, -0.046429735, -0.000923702, -0.007942994, -0.010750373, 0.011357739, 0.014131376, 0.01071663, -0.012626458, -0.009414168, 0.0061208964, -0.005432549, 0.012545476, -0.006070283, 0.022877442, -0.00976509, 0.013679225, -0.01121602, 0.0044877576, 0.023349836, -0.008644839, 0.021203812, 0.017154707, 0.0128086675, 0.01379395, 0.008989013, 0.024537574, -0.01315959, 0.013901926, -0.030827183, 0.018517906, -0.05147762, 0.001288965, 0.003532844, 0.016304394, 0.024699539, 0.00035514022, -0.0037521704, -0.0066000405, -0.019678649, -0.021068841, -0.014050393, -0.010210493, -0.0042448114, -0.011371235, -0.009198216, -0.018261462, 0.0048285574, -0.027466428, 0.008597599, -0.024982976, 0.0176406, 0.0025306905, 0.019057786, 0.0016643507, -0.013665728, -0.023525298, 0.030422274, 0.003043577, 0.00669452, -0.009582881, 0.025792796, -0.01975963, 0.01633139, 0.014711747, 0.011749152, 0.0034721072, 0.01139823, -0.00055126875, -0.009029503, 0.010325217, -0.022229584, 0.000628033, -0.009549138, -0.010021534, 0.00909024, 0.012187805, 0.037062805, -0.01338904, -0.015157148, 0.0125994645, -0.004470886, -0.014036897, 0.01325407, 0.024132663, 0.0057733483, -0.014536286, 0.0059926747, 0.03026031, 0.019840613, -0.008692078, 0.016317891, 0.02085289, 0.011877374, -0.01654734, 0.021001356, -0.014927699, -0.011715409, 0.019395212, 0.016439365, 0.015926478, -0.020205032, -0.005780097, 0.006276112, -0.0108381035, -0.023093393, -0.06937466, -0.030584237, 0.017721582, 0.013281063, -0.012741183, 0.013186584, 0.0026943418, 0.0061242706, -0.01076387, 0.023646772, -0.032581795, -0.025306905, -0.010277977, 0.0104939295, 0.0217032, 0.0065865438, 0.0011733968, -0.0027196486, -0.0017630477, 0.036657896, -0.013955914, -0.033688553, 0.004062602, 0.0033337628, -0.016466359, 0.011546697, -0.016952252, 0.02645415, 0.015305616, 0.0024378984, 0.005665372, 0.0051018717, 0.013618489, -0.023538794, -0.0017765447, 0.006795747, -0.020528961, 0.003772416, 0.03614501, -0.03020632, 0.005527028, -0.004599108, 0.035632122, -0.016668815, 0.012376763, -0.0057902196, -0.013564501, 0.0375487, 0.012660201, -0.03047626, -0.002750017, 0.025158437, -0.030098345, -0.018234467, 0.055067822, 0.02179768, 0.014765735, 0.0031346818, 0.010682887, 0.0028900485, -0.019179258, -0.01954368, -0.004916288, 0.032176886, 0.011809888, 0.016574334, -0.010419696, -0.0087730605, 0.017856551, -0.017019738, -0.0017546121, 0.005597887, -0.019098276, 0.0038162812, -0.0069442145, -0.0064347023, -0.018328948, 0.005088375, 0.00021215621, -0.028532691, 0.007106179, -0.01012951, -0.024726532, -0.016857773, 0.03460635, 0.017343665, 0.009893312, 0.011384733, 0.0005006549, -0.058954965, -0.0044202725, 0.0021882036, 0.010284726, -0.0073153824, -0.024294628, 0.015332609, 0.011013565, 0.0062693637, 0.0016398873, 0.01148596, -0.025482366, -0.01958417, -0.06775502, 0.022998914, -0.0022438788, 0.00560801, 0.009636869, 0.0055438993, 0.003227474, 0.00016923992, 0.0075718258, 0.02631918, -0.004187449, -0.001468644, -0.0032190382, -0.026926545, 0.0033540083, -0.015724024, 0.024942486, 0.011742404, -0.014981687, -0.0006934092, 0.0031043135, -0.013362045, 0.010939331, -0.00709943, -0.030719208, 0.020461475, -0.021406267, 0.019273737, -0.010784116, -0.02672409, 0.019503187, -0.019138768, 0.01908478, 0.026872559, -0.0069442145, -0.013085357, -0.0040322333, 0.030449267, 0.0061310194, 0.003107688, -0.03522721, -0.036792863, -0.00845588, 0.0044472665, -0.017046731, 0.0039411285, -0.006471819, 0.009177971, 0.025077455, 0.0006630409, 0.023768244, 0.011587188, -0.016128933, -0.0056282557, -0.0037015565, -0.036064025, 0.026103228, 0.002046485, -0.021919154, 0.008887785, 0.054824878, -0.01827496, 0.035524145, -0.028316738, -0.010844852, 0.009731349, -0.022715477, 0.010547917, 0.027749864, -0.008854042, -0.011566943, -0.015899485, 0.0067181396, 0.007470598, 0.010709882, 0.006498813, -0.015440586, 0.0018052259, -0.007983484, 0.040949944, 0.029882392, -0.010095768, -0.021068841, 0.035308193, 0.0006098964, 0.03374254, -0.0067485077, 0.01207308, 0.020097056, 0.021203812, -0.021311788, 0.011074301, -0.0011472463, 0.011364487, 0.01791054, 0.0076258136, 0.0036914337, -0.015724024, 0.006313229, 0.026251696, 0.035308193, 0.00927245, 0.015724024, 0.010068773, -0.034174442, -0.0343634, -0.058037166, -0.03916834, 0.0042819283, 0.0105141755, -0.013314806, -0.015710525, -0.014144872, 0.009414168, -0.0021831424, 0.010298223, -0.012639955, 0.0089822635, -0.015278622, 0.016466359, 0.010912337, -0.002844496, 0.0116614215, -0.0047003357, 0.019773128, 0.0019975584, 0.003789287, -0.031232094, 0.019125272, -0.004474261, 0.01777557, 0.004133461, 0.004821809, -0.007855263, -0.022809956, -0.018895822, -0.0004546807, 0.028829625, -0.014657759, 0.043082472, -0.0018980178, 0.0048285574, -0.0021730196, 0.005395432, 0.02085289, 0.008044221, 0.012666949, -0.024767024, -0.013969411, 0.033256646, -0.014225855, -0.02785784, -0.030449267, -0.018382935, -0.0004909539, 0.004875797, -0.0114117265, 0.00042346885, -0.028964596, 0.015035675, 0.04993896, -0.0044202725, -0.0071939095, -0.00020108445, 0.0076663047, 0.01881484, -0.01338904, -0.011141786, -0.05409604, 0.034093462, 0.02356579, -0.025711814, -0.032932717, -0.006212001, -0.00043527875, 0.0024750151, -0.017978026, 0.002750017, 0.0010814484, 0.011782895, 0.03241983, -0.028073793, 0.0009928743, -0.025792796, -0.009933803, -0.0034586103, -0.016695809, -0.03870944]"], ["id", 1]]
  TRANSACTION (1.3ms)  COMMIT
=> 
#<Recipe:0x0000000108657c38
 id: 1,
 title: "curry",
 description: "how to make delicious curry",
 created_at: Fri, 03 Nov 2023 10:24:54.431741000 UTC +00:00,
 updated_at: Fri, 03 Nov 2023 10:24:54.431741000 UTC +00:00,
 embedding: nil>

 9.もう一つレコードを作る。

irb(main):005* Recipe.create(
irb(main):006*   title: "soup",
irb(main):007*   description: "how to make wonderfult soup",
irb(main):008> )
  TRANSACTION (0.5ms)  BEGIN
  Recipe Create (2.3ms)  INSERT INTO "recipes" ("title", "description", "created_at", "updated_at", "embedding") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["title", "soup"], ["description", "how to make wonderfult soup"], ["created_at", "2023-11-03 10:26:07.888515"], ["updated_at", "2023-11-03 10:26:07.888515"], ["embedding", nil]]
  Recipe Load (0.8ms)  SELECT "recipes".* FROM "recipes" WHERE "recipes"."id" = $1 LIMIT $2  [["id", 2], ["LIMIT", 1]]
  Recipe Update (6.9ms)  UPDATE "recipes" SET "embedding" = $1 WHERE "recipes"."id" = $2  [["embedding", "[0.010931578, 0.013793, 0.0019887895, 0.005418437, -0.009044257, 0.0010155342, -0.014489753, -0.021660218, -0.0074748723, -0.040316958, 0.019184379, 0.009436604, -0.026571311, -0.0061354837, -0.013136835, 0.022742553, 0.02115964, -0.01666795, 0.0021748159, -0.01865674, 0.0013478446, 0.0022289325, -0.0006096587, 0.0076033995, -0.014557399, 0.008401621, 0.0077589853, -0.010106298, 0.017642051, -0.01634325, 0.030115956, -0.009450133, -0.020510238, -0.039667558, -0.007217818, 0.0017165148, -0.014178582, -0.00742752, 0.022377266, -0.028465396, 0.024474287, 0.008158096, 0.015179741, -0.005590934, -0.014570928, -0.0026060585, 0.00859103, -0.011770387, 0.0048028594, 0.023148429, 0.011323924, 0.013549475, -0.0063654794, -0.0005745674, 0.006636063, 0.0067037093, 0.01147951, 0.043401614, 0.016789714, -0.007468108, 0.032632384, 0.018710857, -0.03685349, -0.0026162053, -0.007914571, -0.009078081, -0.00034118904, -0.0014163362, 0.01106687, -0.0008675587, 0.009565131, 0.015923847, 0.006828854, -0.028654804, 0.006311363, -0.0089427885, -0.03303826, -0.0022661379, 0.010336294, -0.017046768, 0.010025123, -0.023649009, -0.013847116, 0.021524927, -0.00023422395, 0.027464237, -0.017290292, 0.02590838, -0.01436799, -0.0077860435, -0.012785076, 0.03547351, 0.013414183, 0.00026994944, -0.01701971, 0.04261692, -0.012507727, 0.039667558, -0.013265362, -0.04656744, -0.01768264, 0.002737968, -0.018575566, -0.017479701, -0.0064872424, -0.016654423, 0.03265944, 0.022404324, 0.028708922, 0.014625045, -0.03368766, 0.013292421, 0.010045417, -0.03582527, -0.0203073, -0.0070419386, -0.01649207, -0.03918051, -0.011046576, 0.00025937977, 0.01214244, 0.043374553, 0.026003085, -0.024690755, 0.0307383, -0.006037397, -0.0071975244, -0.017912636, 0.014570928, -0.0037780239, 0.066292986, 0.02046965, 0.010762463, -0.00048958726, -0.0209567, 0.021836098, -0.009308076, -0.004711537, 0.0012920367, -0.026787778, 0.018846149, 0.031035941, -0.0068795886, 0.014151523, -0.0045999214, 0.0036596435, -0.010769228, 0.01865674, 0.012541551, 0.008043098, 0.012663313, -0.0034769995, 0.0139350565, -0.000277771, -0.016140312, 0.03057595, 0.013508887, 0.012020677, 0.004390219, -0.009950712, -0.00185688, 0.009639542, -0.02082141, -0.03568998, -0.007731927, 0.026327787, 0.047162723, -0.00042786036, -0.018954383, 0.009308076, -0.027951287, 0.011844798, -0.019860838, 0.008530148, 0.002656793, 0.028925389, 0.026476607, 0.0048299176, -0.024176646, -0.005946075, -0.041101653, -0.010052182, 0.010789522, 0.050869722, 0.0070419386, -0.024420172, 0.0018027633, -0.021497868, 0.0029578172, -0.00079526217, 0.012602432, 0.029764198, -0.00041221722, 0.016262075, -0.64420545, -0.0141379945, 0.005868282, -0.016749127, 0.016126784, 0.025001926, -0.0032368565, 0.0073598744, -0.0052053523, -0.023256661, -0.012074794, 0.024230763, 0.01453034, -0.013021837, 0.015896788, -0.01601855, 0.016803242, -0.03750289, -0.002325328, 0.01305566, -0.006612387, 0.01653266, -0.013840352, -0.019887896, -0.00069928955, -0.0037644946, -0.0047284486, -0.017317351, -0.00817839, 0.0034059712, -0.019184379, 0.031279467, 0.039451092, 0.008787203, 0.041832227, 0.011777152, -0.014570928, 0.018616153, 0.02527251, 0.035121754, -0.014570928, -0.021213755, 0.0147468075, -0.0048603583, -0.026287198, -0.002497825, 0.024744872, 0.018859679, -0.0032943555, -0.015125624, 0.026652487, -0.0009850935, 0.008868378, 0.0055943164, 0.00800251, -0.016884418, 0.026178965, -0.008239271, 0.01436799, 0.016383838, 0.002186654, 0.023053724, -0.02676072, 0.0005411672, -0.005421819, 0.019549666, 0.0041297823, 0.026165435, -0.020077305, -0.011966561, 0.010877461, 0.0161809, 0.00017683062, 0.010383646, -0.007528989, 0.016059138, 0.0326865, -0.0005031164, 0.0051512355, 0.009382487, 0.001632803, -0.005553729, 0.00050649873, -0.018129103, 0.0028580395, 0.021903744, -0.02111905, 0.0071975244, 0.014625045, -0.014273286, 0.008076921, -0.009605719, -0.00083965476, -0.007792808, 0.0034059712, 0.015964434, -0.012703901, -0.00042680337, 0.030494774, -0.028627748, -0.013231539, -0.009125433, 0.03482411, 0.018480862, 0.039911084, 0.0042244866, -0.011371276, -0.0026939982, 0.018426744, -0.023743713, -0.006795031, 0.021768453, -0.008225742, -0.03666408, -0.020848468, -0.018359099, -0.003426265, 0.0086586755, 0.02609779, 0.030521832, 0.004616833, 0.009341899, 0.021822568, 0.011980089, -0.0028462014, 0.011465981, 0.0076033995, -0.003950521, -0.032280624, -0.002934141, 0.020199068, 0.01634325, 0.0016235017, -0.014814453, 0.0032689883, -0.017858518, 0.012751253, 0.008354269, 0.028275989, -0.0140162315, 0.019509079, -0.0039369916, 0.0017706315, -0.01032953, -0.007894277, -0.0014763719, -0.038233466, -0.00037945126, -0.009517779, 0.0025299569, -0.027274828, -0.007799573, -0.0130421305, 0.009071316, 0.010180709, 0.0007910343, 0.009896596, -0.017209118, 0.016397368, -0.0068863533, -0.0048603583, 0.015315033, -0.008056628, -0.024095472, -0.01750676, -0.015653262, -0.015166212, 0.0019295994, -0.03173946, -0.035527628, -0.016979123, 0.0110533405, -0.008949554, -0.006974293, -0.0074139913, 0.02527251, -0.027207183, -0.0061726887, 0.027653646, -0.007664281, -0.01752029, 0.012588902, -0.0037442008, 0.002841128, 0.007914571, 0.0031489169, 0.0017993811, 0.010573055, -0.027504824, 0.0055063767, -0.015639734, 0.0043800725, 0.018088514, 0.0046810964, 0.01065423, 0.007447814, -0.0142191695, -0.0018348951, 0.009051022, -0.0023777536, -0.006128719, 0.0047149197, -0.00405199, 0.0140974065, -0.002633117, -0.032280624, 0.012257438, -0.01584267, 0.019914955, -0.0011423702, 0.023229603, -0.028005404, -0.0050159437, 0.0026432637, 0.009700423, 0.0052053523, 0.009477192, 0.013671237, -0.028194813, -0.006923558, 0.018061457, -0.020415533, -0.00859103, -0.0035683215, -0.012494199, 0.006182836, 0.0073260516, 0.016316192, -0.012649784, -0.015775025, -0.022904903, 0.012210086, 0.0132450685, 0.012663313, 0.005185059, -0.017249705, 0.032605328, -0.036582906, 0.028167754, -0.0209567, 0.011675683, 0.0039471383, 0.013062424, -0.02957479, 0.029466556, -0.0031117117, 0.014949745, 0.017723227, -0.004555952, 0.018156162, -0.0106880525, -0.008482796, -0.005191823, -0.0029003182, 0.00083796366, -0.01604561, -0.01065423, 0.015450325, 0.012507727, 0.026124848, 0.013265362, 0.0017740139, 0.010045417, 0.011655389, -0.0028580395, 0.013894469, -0.017899107, -0.039207567, -0.025069572, -0.01898144, -0.008956318, -0.03915345, -0.005168147, -0.00615916, 0.002014157, -0.02463664, 0.010464821, -0.01040394, 0.011709506, 0.023067253, -0.0024453995, -0.009375722, -0.0014789086, 0.0120545, 0.017790873, -0.020388477, -0.022120211, 0.011019518, -0.008969847, 0.008279859, 0.0091863135, 0.015964434, 0.001323323, -0.015504441, -0.01718206, 0.019522607, 0.01289331, -0.010410705, -0.015166212, 0.015666792, -0.0038693456, 0.0028242166, 0.008976611, -0.0054353485, 0.028708922, 0.013089483, -0.010451293, -0.0393158, -0.0070148804, -0.008929259, -0.0114998035, 0.003172593, 0.0036258204, -0.014489753, -0.013015072, -0.0052493224, 0.0019346728, -0.017479701, 0.008198684, -0.009118668, -0.017804403, -0.040425193, -0.018386157, 0.019536138, 0.015747966, 0.017790873, 0.0105662905, 0.005019326, 0.014476224, 0.014165052, -0.034769993, -0.0073260516, -0.0019329818, -0.021673748, -0.007745456, -0.002497825, 0.017574405, -0.016979123, -0.0014357843, -0.015517971, 0.0020209213, -0.0144626945, 0.0053677023, -0.01800734, 0.006165924, -0.014773865, 0.009504249, 0.025083102, 0.025976026, -0.015490912, -0.0054894653, 0.030197132, -0.0028106873, -0.010052182, 0.009368958, 0.0059934272, 0.021240814, 0.004478159, -0.006507536, 0.036582906, 0.038666397, 0.009680129, 0.011885385, -0.00949072, 0.008685734, 0.026381902, 0.018710857, -0.0036833195, -0.00027354312, -0.004572863, 0.0067747375, 0.0336606, 0.024014296, -0.0007415682, -0.013231539, 0.0044849236, -0.032578267, 0.005634904, 0.03717819, -0.013082718, -0.019617312, -0.014449165, -0.034472354, -0.012122146, -0.010322765, -0.013143599, 0.010194238, 0.0021173167, -5.390533e-05, -0.026178965, -0.01735794, 0.0031759753, -0.018751444, 0.012988013, 0.013001543, -0.00046379725, -0.010261884, 0.0099980645, 0.018399686, 0.008022805, 0.015057978, 0.013021837, -0.0056957854, 0.022593733, -0.024217233, -0.030305365, 0.007420756, -0.0060982783, 0.014611515, -5.8958954e-06, 0.009091609, -0.017033238, 0.011614801, 0.04015461, 0.0013368522, 0.0018602624, 0.022674907, 0.002017539, 0.021267872, 0.0076236934, 0.013028601, -0.006477095, 0.01338036, 0.0040114024, 0.02230962, -0.023026666, -0.025502507, 0.00039572854, 0.0016057447, 0.0024115765, -0.000813442, 0.0047960947, -0.01666795, 0.0005589243, 0.009396017, -0.012818899, 0.020090833, -0.023216074, 0.0051410887, -0.018846149, 0.002660175, 2.8538116e-05, -0.015450325, -0.025394272, -0.023838418, -0.024136059, 0.017479701, 0.008056628, -0.00726517, -0.010173944, -0.012730959, -0.017317351, -0.0029713463, 0.000380931, -0.0012328466, 0.0039843437, -0.022485498, -0.0039572855, 0.0028123786, -0.011472746, 0.014570928, 0.010539232, 0.004342867, -0.026652487, -6.648324e-05, -0.022742553, -0.011384806, 0.0012751253, -0.012345377, -0.024406642, -0.031468876, -0.012223615, 0.018088514, 0.017574405, 0.011790681, 0.015450325, -0.03482411, 0.0067307674, -0.0075966353, -0.0134074185, -0.042589862, -0.0031320055, 0.03436412, 0.014597986, 0.043401614, 0.013515652, -0.00039763108, 0.0008261256, 0.0129203675, 0.0142191695, -0.0038186114, -0.0056653447, -0.0058513707, 0.012981249, 0.015463854, 0.021349048, 0.0062606283, -0.010390411, -0.014002702, 0.005472554, -0.007664281, 0.019049088, -0.0055638757, -0.042075753, -0.009815421, -0.0053440263, -0.0049178572, -0.0029392145, -0.021957861, -0.006287687, -5.0126673e-05, 0.011513333, 0.01420564, -0.0008903892, 0.03785465, -0.006473713, -0.00442066, -0.010593349, -0.0011702741, -0.017817931, -0.002886789, -0.021863157, -0.022106681, 0.012737724, 0.007813102, 0.01221685, 0.004339485, -0.004319191, -0.0024014297, 0.027504824, -0.0153556205, -0.013535946, -0.013481828, -0.020780822, -0.0009073007, -0.019022029, -0.024650168, 0.001958349, -0.0035243516, -0.009619247, -0.008388092, 0.024352526, -0.024190176, -0.028194813, -0.004660803, -0.017912636, 0.042508688, 0.015585616, 0.030927708, 0.011763623, 6.3735126e-05, -0.0068660593, 0.0029003182, 0.007914571, -0.0142191695, 0.0067307674, 0.017100886, 0.0020564354, -0.040695775, 0.004890799, 0.031928867, -0.00048324544, -0.020023188, 0.025407802, -0.0070757614, 0.008246035, -0.024582522, -0.022512557, -0.014814453, 0.03650173, -0.024217233, 0.01634325, 0.00057287625, 0.00652783, -0.03766524, 0.026381902, -0.0039674323, 0.02496134, 0.012291261, -0.0067273853, 0.012906838, -0.026368374, -0.030521832, 0.017777344, 0.004136547, 0.015057978, -0.022715494, 0.029087739, 0.026246611, 0.016613834, -0.0020006276, 0.01246714, 0.0001258848, 0.03417471, 0.003160755, -0.015247387, -0.005269616, -0.003047448, 0.009686894, -0.0057296082, -0.0123521425, -0.010897756, -0.031144174, 0.0021037876, 0.017574405, 0.0131233055, -0.009044257, -0.009849244, 0.010884226, -0.01766911, -0.007251641, -0.00019173387, -0.0075222244, -0.0019160702, -0.021673748, -0.026124848, 0.00495168, 0.017980281, 0.009247195, -0.008969847, 0.031063, 0.02808658, -0.033877067, 0.0027734821, -0.014760337, -0.01766911, -0.015775025, -0.013786235, -0.012095088, -0.016262075, 0.01404329, -0.026206024, -0.043022797, -0.023757242, 0.023351366, 0.0013968879, 0.0029239943, -0.0018501155, 0.033877067, -0.00859103, -0.009084845, -0.009335135, -0.023730183, 0.013434476, -0.008793968, 0.0038693456, 0.027558941, -0.01964437, 0.02214727, 0.0024437082, 0.020523768, 0.009538072, -0.020158479, -0.0051207948, 0.007718398, 0.017872049, -0.017587936, -0.0094704265, -0.013664473, -0.0036630258, -0.020402005, 0.0139350565, 0.0036258204, -0.012243909, 0.028790098, 0.020875527, 0.012852722, 0.0020023189, -0.00053693936, -0.02906068, -0.043455727, -0.02941244, -0.004535658, -0.027383063, 0.007731927, 0.023987237, 0.02262079, 0.0017105958, -0.02362195, 0.0012971102, -0.028492454, -0.010965401, -0.0059325458, 0.027734822, 0.007799573, -0.010451293, -0.011898914, 0.008496325, -0.026666015, 0.016072666, -0.01601855, 0.0025384126, -0.02509663, 0.0127986055, 0.024812518, 0.011168339, -0.03555469, -0.005026091, 0.026314257, 0.004309044, -0.008726322, -0.0059866626, -0.03255121, -0.012088323, -0.005158, -0.012825663, 0.007968687, -0.007447814, 0.03173946, -0.023080783, -0.011026283, 0.013847116, -0.0006502463, 0.0010358279, 0.008530148, 0.0008878525, 0.009626012, 0.016640892, -0.021335518, -0.017263236, -0.013251833, 0.0055368175, 0.038071115, -0.0065954756, 0.019170849, 0.022417853, 0.0116621535, 0.005340644, 0.023716655, 0.020442592, -0.0054860828, -0.0075222244, 0.0048332997, 0.0149091575, -0.0027109096, -0.028032463, 0.0237843, -0.030143015, -0.0068829707, -0.0029831843, -0.00056442054, -0.015558558, 0.008144567, 0.0114998035, -0.016140312, -0.015057978, 0.0043124263, -0.006541359, -0.027640117, -0.0024606197, -0.03517587, 0.003974197, -0.006220041, -0.007901042, 0.013847116, -0.038260523, 0.0012024059, -0.01603208, 0.002749806, 0.008327211, 0.2216621, -0.0036359674, 0.018156162, 0.033904128, 0.017006181, -0.0007715861, 0.0049449154, 0.00049001, -0.011520098, 0.018291453, -0.020753764, 0.018304981, -0.0073801684, -0.011655389, -0.0056687267, -0.036285263, -0.041345175, -0.013015072, -0.020510238, -0.035798214, 0.008760145, -0.0023912827, -0.0010146885, -0.022539616, 0.037069954, -0.0069810576, -0.004457865, -0.008672205, 0.013745648, 0.04034402, 0.003277444, -0.009504249, -0.0028681864, 0.0119462665, -0.01752029, -0.007948394, 0.01485504, -0.0016607069, 0.03368766, 0.009971007, -0.005475936, -0.03206416, 0.030981824, -0.010627172, 0.018210277, 0.00038325632, -0.02643602, -0.0039606676, 0.019373788, 0.017574405, -0.01768264, -0.0048299176, 0.04294162, 0.012440082, 0.018900266, -0.003424574, 0.02709895, -0.00495168, 0.010221296, 0.0086586755, -0.008097215, 0.044348653, -0.019306142, 0.024907222, 0.0090239635, -0.0032622237, -0.0032740617, -0.018129103, 0.03209122, 0.008584266, 0.0049110926, -0.010437763, -0.013103012, 0.01584267, -0.02792423, -0.00742752, 0.020117892, 0.01363065, 0.014083877, 0.03371472, -0.017953223, 0.007873983, 0.0033231052, -0.021998448, 0.004491688, -0.03403942, 0.020388477, 0.014165052, -0.014882099, -0.0022069477, 0.0055706403, 0.010769228, -0.022553144, 0.011790681, 0.0010493571, 0.01074217, -0.018020868, 0.023229603, 0.016573247, 0.0042244866, -0.038720515, 0.011465981, 0.020672588, 0.0082122125, -0.01338036, -0.022404324, 0.008726322, 0.009111904, 0.020212596, 0.0025062808, -0.015477383, -0.013035365, 0.001593061, 0.009233666, -0.015139153, 0.022390794, -0.007434285, -0.0017012944, -0.009707187, -0.010031887, -0.0076575163, -0.021389635, -0.0070148804, 0.0031269318, -0.014882099, -0.01883262, -0.015071508, -0.00859103, 0.003791553, -0.06813295, 0.014719749, 0.004474777, -0.0063519506, 0.015247387, 0.0071975244, -0.0035074402, 0.0045322757, -0.00093097676, -0.0074884016, -0.009010434, -0.00540829, -0.01280537, 0.009680129, 0.0006333348, 0.013826823, -0.0143003445, 0.0036393497, -0.015693849, -0.009943948, -0.023013137, -0.0006312209, 0.0092674885, -0.02132199, -0.007501931, 0.012040971, -0.009071316, -0.023960179, -0.053277913, -0.0030339188, -0.025691915, -0.040181667, 0.0014577692, 0.02496134, 0.001678464, -0.031279467, -0.0008743233, -0.17393115, 0.023838418, 0.037421715, -0.027640117, -0.007251641, -0.00405199, 0.031631224, -0.017033238, 0.0027345857, 0.003767877, 0.0137321185, -0.0112156905, -0.026084261, -0.021200227, -0.0050700605, 0.007089291, 0.0075425184, 0.008563971, 0.02938538, 0.020875527, 0.0478933, -0.022823729, 0.010897756, 0.004292133, 0.0069675283, 0.023811359, 0.017709699, 0.0041061062, -0.010316, -0.009849244, 0.015666792, -0.007630458, 0.0234596, -0.00875338, 0.0043496317, -0.0056957854, 0.002327019, -0.0029155384, -0.0018754827, 0.03650173, -0.0021291547, 0.008137803, 0.019833779, 0.00816486, 0.0019752604, 0.021619631, 0.02493428, -0.013948586, 0.0027447327, -0.027450709, 0.02922303, -0.047270957, -0.0038355228, 0.000819361, 1.2075851e-05, 0.027342474, -0.0074613434, -0.008834555, 0.011073635, -0.007183995, -0.020253183, -0.016911477, 0.006429743, -0.0022864316, -0.018710857, -0.012095088, -0.018034399, 0.0055063767, -0.027951287, 0.00776575, -0.028519513, 0.008854849, 0.0010011594, 0.0098357145, 0.0020462887, 0.0042515453, -0.020347888, 0.017100886, 0.00303561, 0.008645146, -0.009179549, 0.022228444, -0.025353685, 0.025001926, 0.007447814, 0.0021951096, 0.0005910561, 0.0029967136, -0.00884132, -0.005019326, 0.022553144, -0.010958636, -0.0013977335, -0.007319287, -0.0087398505, 0.0025857647, 0.011472746, 0.05103207, -0.01701971, -0.017777344, 0.016722068, 0.004785948, -0.01305566, 0.022945492, 0.017060297, 0.005719461, -0.007434285, 0.009923655, 0.025488976, 0.006575182, -0.0070689972, 0.019630842, 0.013475064, -0.0026195876, -0.0072786994, 0.027301887, -0.019779662, -0.003104947, 0.009341899, 0.020023188, 0.019306142, -0.007630458, -0.0022864316, 0.010796286, -0.0145438695, -0.024731344, -0.07354463, -0.033606485, 0.030819474, 0.023987237, -0.02263432, 0.0212814, 0.008611323, 0.003368766, -0.029872432, 0.018859679, -0.014340932, -0.027004246, 0.00068618316, 0.0024251058, 0.041101653, 0.015666792, -0.016546188, -0.009084845, -0.008949554, 0.036420554, -0.010099534, -0.019373788, -0.012622726, -0.00093774137, -0.0076575163, 0.006006956, -0.024528405, 0.020550827, 0.004664185, 0.010498645, 0.007907806, -0.007238112, 0.015220328, -0.039126392, -0.002660175, -0.00045999215, -0.021687277, -0.0035209693, 0.03471588, -0.03780053, 0.008875143, 0.015923847, 0.03403942, -0.030413598, -0.0034178093, -0.004525511, -0.024717813, 0.038666397, 0.0075763413, -0.0326865, -0.018616153, 0.011756858, -0.032145333, -0.010660995, 0.05400849, 0.024054883, 0.021024346, 0.014070348, -0.0104445275, -0.0049584447, -0.003356928, -0.020239655, -0.0032926644, 0.0054015256, 0.009294547, 0.011844798, -0.013590062, 0.00022893911, 0.021795511, -0.0147468075, 0.0065176827, -0.002656793, -0.017939694, -0.0041399295, -0.015747966, -0.0029392145, -0.0050362376, 0.0056653447, 0.0046337442, -0.021930803, 0.012095088, -0.017709699, -0.024109, -0.018102044, 0.037367597, 0.0031353878, 0.018792033, 0.009206608, 0.006132101, -0.060069565, -0.004322573, -0.0012024059, 0.020158479, -0.011993619, -0.025340157, 0.0099980645, 0.015896788, -0.0066394457, 0.00080836855, -0.0048603583, -0.023080783, -0.017723227, -0.06656357, 0.017642051, 0.0025181188, -0.010437763, 0.017412055, -0.008401621, -0.012189792, 0.0063857734, 0.011398335, 0.012622726, -0.012703901, 0.00033209912, -0.0077386913, -0.030657124, -0.007698104, -0.026814837, 0.023337837, 0.015125624, -0.01752029, -0.008286623, 0.002370989, -0.0027887025, 0.010126592, -0.0123521425, -0.025231922, 0.021335518, -0.015139153, 0.017290292, -0.022715494, -0.019671429, 0.024866635, -0.0234596, 0.024623109, 0.019238494, -0.0052527045, -0.03744877, 0.006084749, 0.034742936, 0.010748934, 0.004089195, -0.04310397, -0.035933506, -0.0064128316, 0.010796286, -0.034445293, 0.010275413, -0.008421915, 0.023838418, 0.015896788, 0.0037746415, 0.028113637, 0.017790873, -0.013461535, -0.0075898706, -0.01040394, -0.02115964, 0.01619443, 0.004616833, -0.019211438, 0.010613643, 0.050815605, -0.019563196, 0.03601468, -0.03255121, -0.0060644555, 0.020253183, -0.0053778496, 0.00013000697, 0.02262079, -0.01570738, -0.0037205247, -0.0052222637, 0.0116621535, 0.016816773, 0.008543678, 0.0019397463, -0.027274828, 0.002017539, -0.010945108, 0.038206406, 0.030711241, -0.0091863135, -0.025881324, 0.034742936, 0.007481637, 0.028140696, -0.025678385, 0.0088210255, 0.017466173, 0.0018534978, -0.027328946, 0.012683607, -0.013529181, -0.00834074, 0.012460375, 0.0076236934, -0.01436799, 0.002301652, 0.0029392145, 0.0040722834, 0.026354844, 0.0025282656, 0.0113780415, -0.0015127315, -0.030386541, -0.039532267, -0.05628139, -0.02873598, 0.014449165, 0.023676066, -0.010464821, -0.011919209, -0.014882099, 0.012284496, -0.011060106, -0.0013157128, -0.013921527, -0.0040384606, -0.02130846, 0.010620407, 0.0060204854, 0.0017317352, 0.020050246, -0.010965401, 0.010356588, -0.00048028593, -0.0069337054, -0.036393497, 0.018264394, 0.005269616, 0.013366831, -0.00842868, 0.0057296082, -0.003333252, -0.004846829, -0.01436799, 0.0044138953, 0.029006563, -0.019143792, 0.051519122, 0.000484091, 0.0070419386, -0.0024792224, -0.020266714, 0.026003085, 0.015463854, 0.0124739045, -0.01305566, -0.018751444, 0.034066476, -0.02114611, -0.020713177, -0.037584066, -0.01600502, 0.0082122125, 0.000362117, -0.0073598744, 8.56672e-05, -0.000910683, 0.009910125, 0.030711241, -0.0028512748, 0.0021781982, 0.0067645903, 0.00834074, 0.028465396, -0.010735405, -0.009686894, -0.05882488, 0.019454962, 0.021186698, -0.025394272, -0.04229222, 0.0052628512, -0.0028901713, -0.0057228436, -0.025976026, 0.003380604, 0.004549187, 0.0013520725, 0.034120593, -0.01436799, -0.011932737, -0.013989173, 0.0019735692, 0.0069404696, -0.027477767, -0.030278306]"], ["id", 2]]
  TRANSACTION (0.5ms)  COMMIT
=> 
#<Recipe:0x00000001086176d8
 id: 2,
 title: "soup",
 description: "how to make wonderfult soup",
 created_at: Fri, 03 Nov 2023 10:26:07.888515000 UTC +00:00,
 updated_at: Fri, 03 Nov 2023 10:26:07.888515000 UTC +00:00,
 embedding: nil>

 10.質問する。
 irb(main):009> Recipe.ask("Do you know the recipe of curry?")
=> "Yes, I know the recipe of curry."

irb(main):010> Recipe.ask("Do you know the recipe of udon?")
=> "No, the given context does not provide any information about the recipe of udon."

irb(main):011> Recipe.ask("Do you know the recipe of soup?")
=> "Yes, I know the recipe of soup."

irb(main):013> Recipe.ask("スープのレシピ知ってる？")
=> "はい、スープのレシピを知っています。"

11.近似検索
Recipe.similarity_search("soup", k: 1)